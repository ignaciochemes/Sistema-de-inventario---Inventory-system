<link href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css" rel="stylesheet">

<script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/print/bootstrap-table-print.min.js"></script>
<body>
      <div class="container">
      <h1 class="text-center p-4">Tabla de articulos</h1>
        <div class="container text-center">
            <button type="button" class="btn btn-success btn-lg text-dark m-2" data-toggle="modal" data-target="#agregarArticulo">
              Agregar nuevo articulo SIN realizar una compra <i class="fas fa-plus"></i>
            </button>
            <!-- Modal -->
            <div class="modal fade" id="agregarArticulo" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Con este formulario, usted podra crear agregar nuevos articulos.</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    {{>agregarArticulo}}
                  </div>
                </div>
              </div>
            </div>
        </div>
          <div class="table-responsive" id="cont-tabla">
            <table class="table mx-auto table-sm" id="tablaArticulos" 
                data-show-print="true" 
                data-show-columns="true"
                data-show-toggle="true"
                data-search="true"
                data-pagination="true" 
                data-page-size="10"
                data-resizable="true">
                <thead>
                    <tr>
                        <th data-field="id">Id</th>
                        <th data-field="producto">Producto</th>
                        <th data-field="descripcion">Descripcion</th>
                        <th data-field="categoria">Categoria</th>
                        <th data-field="precio-costo">P. Costo</th>
                        <th data-field="precio-venta">P. Venta</th>
                        <th data-field="cant-ingresados">Cant. Ingresados</th>
                        <th data-field="proveedor">Proveedor</th>
                        <th>Accion</th>
                    </tr>
                </thead>
                <tbody id="mitabla">
                    {{#each articulos}}
                        <tr>
                          {{#ifMayor cantidadIngresados 5}}
                            <td style="background-color: #ff7676;">{{id}}</td>
                            <td style="background-color: #ff7676;">{{producto}}</td>
                            <td style="background-color: #ff7676;">{{descripcion}}</td>
                            <td style="background-color: #ff7676;">{{categoria}}</td>
                            <td style="background-color: #ff7676;">$ {{precioCosto}}</td>
                            <td style="background-color: #ff7676;">$ {{precioVenta}}</td>
                            <td style="background-color: #ff7676;">{{cantidadIngresados}}</td>
                            <td style="background-color: #ff7676;">{{proveedor}}</td>
                            <td style="background-color: #ff7676;">
                              <!--<a href="mistock/delete/{{id}}" class="btn btn-danger">Borrar articulo</a>></a> -->
                              <button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#eliminar">
                                <i class="fas fa-trash-alt"></i>
                              </button>
                              <!-- Modal -->
                              <div class="modal fade" id="eliminar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h5 class="modal-title" id="exampleModalLongTitle">Seguro quiere eliminar el articulo?</h5>
                                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                      </button>
                                    </div>
                                    <div class="modal-body">
                                      El articulo se borrara de la base de datos y no podra recuperarse. Pero puede volver a crearlo.
                                    </div>
                                    <div class="modal-footer">
                                      <a href="/articulos/delete/{{id}}" class="btn btn-danger btn-sm" id="botonEliminar">Eliminar</a>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              {{#if cantidadIngresados}}
                                <a href="/articulos/addtostock/{{id}}" class="btn btn-success btn-sm" id="botonAddToStock"><i class="fa fa-archive"></i></a>
                              {{else}}
                                <a href="/articulos/addtostock/{{id}}" class="btn btn-success btn-sm" id="botonAddToStock" hidden><i class="fa fa-archive"></i></a>
                                <a href="/articulos/addnuevoingreso/{{id}}" class="btn btn-success btn-sm" id="botonAddToStock">Agregar Ingreso</a>
                              {{/if}}  
                                <a href="/articulos/edit/{{id}}" class="btn btn-light btn-sm" id="botonEditar"><i class="fas fa-edit"></i></a>
                            </td>
                            {{else}}
                            <td>{{id}}</td>
                            <td>{{producto}}</td>
                            <td>{{descripcion}}</td>
                            <td>{{categoria}}</td>
                            <td>$ {{precioCosto}}</td>
                            <td>$ {{precioVenta}}</td>
                            <td>{{cantidadIngresados}}</td>
                            <td>{{proveedor}}</td>
                            <td>
                              <!--<a href="mistock/delete/{{id}}" class="btn btn-danger">Borrar articulo</a>></a> -->
                              <button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#eliminar">
                                <i class="fas fa-trash-alt"></i>
                              </button>
                              <!-- Modal -->
                              <div class="modal fade" id="eliminar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h5 class="modal-title" id="exampleModalLongTitle">Seguro quiere eliminar el articulo?</h5>
                                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                      </button>
                                    </div>
                                    <div class="modal-body">
                                      El articulo se borrara de la base de datos y no podra recuperarse. Pero puede volver a crearlo.
                                    </div>
                                    <div class="modal-footer">
                                      <a href="/articulos/delete/{{id}}" class="btn btn-danger btn-sm" id="botonEliminar">Eliminar</a>
                                    </div>
                                  </div>
                                </div>
                              </div>
                                <a href="/articulos/addtostock/{{id}}" class="btn btn-success btn-sm" id="botonAddToStock"><i class="fa fa-archive"></i></a>
                                <a href="/articulos/edit/{{id}}" class="btn btn-light btn-sm" id="botonEditar"><i class="fas fa-edit"></i></a>
                            </td>
                            {{/ifMayor}}
                        </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
      </div>
</body>
<script>
//$(document).ready(function() {
    //$('#tablaArticulos').DataTable();
//});
  var $table = $('#tablaArticulos')

  $(function() {
    $table.bootstrapTable()
  })
</script>